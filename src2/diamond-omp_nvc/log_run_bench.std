nvc++  -std=c++14 -Wall  -O3 -Minfo -mp=gpu -gpu=cc90 -c masking.cpp -o masking.o
nvc++  -std=c++14 -Wall  -O3 -Minfo -mp=gpu -gpu=cc90 ../diamond-sycl/src/blast/sm_blosum45.o ../diamond-sycl/src/blast/sm_blosum50.o ../diamond-sycl/src/blast/sm_blosum62.o ../diamond-sycl/src/blast/sm_blosum80.o ../diamond-sycl/src/blast/sm_blosum90.o ../diamond-sycl/src/blast/sm_pam30.o ../diamond-sycl/src/blast/sm_pam70.o ../diamond-sycl/src/blast/sm_pam250.o ../diamond-sycl/src/run/main.o ../diamond-sycl/src/basic/config.o ../diamond-sycl/src/util/tinythread.o ../diamond-sycl/src/util/compressed_stream.o ../diamond-sycl/src/basic/score_matrix.o ../diamond-sycl/src/blast/blast_filter.o ../diamond-sycl/src/blast/blast_seg.o ../diamond-sycl/src/data/queries.o ../diamond-sycl/src/data/reference.o ../diamond-sycl/src/data/seed_histogram.o ../diamond-sycl/src/output/daa_record.o ../diamond-sycl/src/search/search.o ../diamond-sycl/src/util/command_line_parser.o ../diamond-sycl/src/util/seq_file_format.o ../diamond-sycl/src/util/util.o ../diamond-sycl/src/util/Timer.o ../diamond-sycl/src/basic/basic.o ../diamond-sycl/src/dp/floating_sw.o ../diamond-sycl/src/basic/hssp.o ../diamond-sycl/src/dp/ungapped_align.o ../diamond-sycl/src/run/tools.o ../diamond-sycl/src/dp/greedy_align.o ../diamond-sycl/src/run/benchmark.o ../diamond-sycl/src/search/stage2.o ../diamond-sycl/src/output/output_format.o ../diamond-sycl/src/output/join_blocks.o ../diamond-sycl/src/data/frequent_seeds.o ../diamond-sycl/src/align/query_mapper.o ../diamond-sycl/src/align/align_target.o ../diamond-sycl/src/output/blast_tab_format.o ../diamond-sycl/src/dp/padded_banded_sw.o ../diamond-sycl/src/dp/needleman_wunsch.o ../diamond-sycl/src/output/blast_pairwise_format.o ../diamond-sycl/src/extra/roc.o ../diamond-sycl/src/dp/comp_based_stats.o ../diamond-sycl/src/extra/model_sim.o ../diamond-sycl/src/run/double_indexed.o ../diamond-sycl/src/search/collision.o ../diamond-sycl/src/output/sam_format.o ../diamond-sycl/src/align/align.o ../diamond-sycl/src/search/setup.o ../diamond-sycl/src/extra/opt.o ../diamond-sycl/src/dp/diag_scores.o ../diamond-sycl/src/data/taxonomy.o ../diamond-sycl/src/lib/tantan/tantan.o ../diamond-sycl/src/lib/tantan/tantale.o ./masking.o ../diamond-sycl/src/dp/swipe.o ../diamond-sycl/src/dp/banded_sw.o ../diamond-sycl/src/data/sorted_list.o ../diamond-sycl/src/data/seed_set.o ../diamond-sycl/src/util/binary_file.o ../diamond-sycl/src/output/taxon_format.o ../diamond-sycl/src/output/view.o ../diamond-sycl/src/output/output_sink.o ../diamond-sycl/src/output/target_culling.o  -o diamond -lz -lpthread
nvidia-smi --query-gpu=memory.used,memory.total --format=csv --loop-ms=1 > log.mem &
bash -c "time -p ( ./diamond blastx -q ../data/gerbil/ERR164407.fastq.gz -d ../diamond-sycl/ARDB.dmnd -o long_cur.m8 --tmpdir /dev/shm -p1 1>log.std 2>log.err ) 2> log.time"
pkill nvidia-smi
../scripts/m.sh
min max diff memory in [MB] : 2 746 744

nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/blast/sm_blosum45.c -o ../diamond-sycl/src/blast/sm_blosum45.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/blast/sm_blosum50.c -o ../diamond-sycl/src/blast/sm_blosum50.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/blast/sm_blosum62.c -o ../diamond-sycl/src/blast/sm_blosum62.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/blast/sm_blosum80.c -o ../diamond-sycl/src/blast/sm_blosum80.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/blast/sm_blosum90.c -o ../diamond-sycl/src/blast/sm_blosum90.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/blast/sm_pam30.c -o ../diamond-sycl/src/blast/sm_pam30.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/blast/sm_pam70.c -o ../diamond-sycl/src/blast/sm_pam70.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/blast/sm_pam250.c -o ../diamond-sycl/src/blast/sm_pam250.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/run/main.cpp -o ../diamond-sycl/src/run/main.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/basic/config.cpp -o ../diamond-sycl/src/basic/config.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/util/tinythread.cpp -o ../diamond-sycl/src/util/tinythread.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/util/compressed_stream.cpp -o ../diamond-sycl/src/util/compressed_stream.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/basic/score_matrix.cpp -o ../diamond-sycl/src/basic/score_matrix.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/blast/blast_filter.cpp -o ../diamond-sycl/src/blast/blast_filter.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/blast/blast_seg.cpp -o ../diamond-sycl/src/blast/blast_seg.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/data/queries.cpp -o ../diamond-sycl/src/data/queries.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/data/reference.cpp -o ../diamond-sycl/src/data/reference.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/data/seed_histogram.cpp -o ../diamond-sycl/src/data/seed_histogram.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/output/daa_record.cpp -o ../diamond-sycl/src/output/daa_record.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/search/search.cpp -o ../diamond-sycl/src/search/search.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/util/command_line_parser.cpp -o ../diamond-sycl/src/util/command_line_parser.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/util/seq_file_format.cpp -o ../diamond-sycl/src/util/seq_file_format.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/util/util.cpp -o ../diamond-sycl/src/util/util.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/util/Timer.cpp -o ../diamond-sycl/src/util/Timer.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/basic/basic.cpp -o ../diamond-sycl/src/basic/basic.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/dp/floating_sw.cpp -o ../diamond-sycl/src/dp/floating_sw.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/basic/hssp.cpp -o ../diamond-sycl/src/basic/hssp.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/dp/ungapped_align.cpp -o ../diamond-sycl/src/dp/ungapped_align.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/run/tools.cpp -o ../diamond-sycl/src/run/tools.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/dp/greedy_align.cpp -o ../diamond-sycl/src/dp/greedy_align.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/run/benchmark.cpp -o ../diamond-sycl/src/run/benchmark.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/search/stage2.cpp -o ../diamond-sycl/src/search/stage2.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/output/output_format.cpp -o ../diamond-sycl/src/output/output_format.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/output/join_blocks.cpp -o ../diamond-sycl/src/output/join_blocks.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/data/frequent_seeds.cpp -o ../diamond-sycl/src/data/frequent_seeds.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/align/query_mapper.cpp -o ../diamond-sycl/src/align/query_mapper.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/align/align_target.cpp -o ../diamond-sycl/src/align/align_target.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/output/blast_tab_format.cpp -o ../diamond-sycl/src/output/blast_tab_format.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/dp/padded_banded_sw.cpp -o ../diamond-sycl/src/dp/padded_banded_sw.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/dp/needleman_wunsch.cpp -o ../diamond-sycl/src/dp/needleman_wunsch.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/output/blast_pairwise_format.cpp -o ../diamond-sycl/src/output/blast_pairwise_format.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/extra/roc.cpp -o ../diamond-sycl/src/extra/roc.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/dp/comp_based_stats.cpp -o ../diamond-sycl/src/dp/comp_based_stats.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/extra/model_sim.cpp -o ../diamond-sycl/src/extra/model_sim.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/run/double_indexed.cpp -o ../diamond-sycl/src/run/double_indexed.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/search/collision.cpp -o ../diamond-sycl/src/search/collision.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/output/sam_format.cpp -o ../diamond-sycl/src/output/sam_format.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/align/align.cpp -o ../diamond-sycl/src/align/align.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/search/setup.cpp -o ../diamond-sycl/src/search/setup.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/extra/opt.cpp -o ../diamond-sycl/src/extra/opt.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/dp/diag_scores.cpp -o ../diamond-sycl/src/dp/diag_scores.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/data/taxonomy.cpp -o ../diamond-sycl/src/data/taxonomy.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/lib/tantan/tantan.cpp -o ../diamond-sycl/src/lib/tantan/tantan.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/lib/tantan/tantale.cpp -o ../diamond-sycl/src/lib/tantan/tantale.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/dp/swipe.cpp -o ../diamond-sycl/src/dp/swipe.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/dp/banded_sw.cpp -o ../diamond-sycl/src/dp/banded_sw.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/data/sorted_list.cpp -o ../diamond-sycl/src/data/sorted_list.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/data/seed_set.cpp -o ../diamond-sycl/src/data/seed_set.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/util/binary_file.cpp -o ../diamond-sycl/src/util/binary_file.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/output/taxon_format.cpp -o ../diamond-sycl/src/output/taxon_format.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/output/view.cpp -o ../diamond-sycl/src/output/view.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/output/output_sink.cpp -o ../diamond-sycl/src/output/output_sink.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c ../diamond-sycl/src/output/target_culling.cpp -o ../diamond-sycl/src/output/target_culling.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 -c masking.cu -o masking.o
nvcc   -std=c++17 -Xcompiler -Wall -arch=sm_90 -O3 ../diamond-sycl/src/blast/sm_blosum45.o ../diamond-sycl/src/blast/sm_blosum50.o ../diamond-sycl/src/blast/sm_blosum62.o ../diamond-sycl/src/blast/sm_blosum80.o ../diamond-sycl/src/blast/sm_blosum90.o ../diamond-sycl/src/blast/sm_pam30.o ../diamond-sycl/src/blast/sm_pam70.o ../diamond-sycl/src/blast/sm_pam250.o ../diamond-sycl/src/run/main.o ../diamond-sycl/src/basic/config.o ../diamond-sycl/src/util/tinythread.o ../diamond-sycl/src/util/compressed_stream.o ../diamond-sycl/src/basic/score_matrix.o ../diamond-sycl/src/blast/blast_filter.o ../diamond-sycl/src/blast/blast_seg.o ../diamond-sycl/src/data/queries.o ../diamond-sycl/src/data/reference.o ../diamond-sycl/src/data/seed_histogram.o ../diamond-sycl/src/output/daa_record.o ../diamond-sycl/src/search/search.o ../diamond-sycl/src/util/command_line_parser.o ../diamond-sycl/src/util/seq_file_format.o ../diamond-sycl/src/util/util.o ../diamond-sycl/src/util/Timer.o ../diamond-sycl/src/basic/basic.o ../diamond-sycl/src/dp/floating_sw.o ../diamond-sycl/src/basic/hssp.o ../diamond-sycl/src/dp/ungapped_align.o ../diamond-sycl/src/run/tools.o ../diamond-sycl/src/dp/greedy_align.o ../diamond-sycl/src/run/benchmark.o ../diamond-sycl/src/search/stage2.o ../diamond-sycl/src/output/output_format.o ../diamond-sycl/src/output/join_blocks.o ../diamond-sycl/src/data/frequent_seeds.o ../diamond-sycl/src/align/query_mapper.o ../diamond-sycl/src/align/align_target.o ../diamond-sycl/src/output/blast_tab_format.o ../diamond-sycl/src/dp/padded_banded_sw.o ../diamond-sycl/src/dp/needleman_wunsch.o ../diamond-sycl/src/output/blast_pairwise_format.o ../diamond-sycl/src/extra/roc.o ../diamond-sycl/src/dp/comp_based_stats.o ../diamond-sycl/src/extra/model_sim.o ../diamond-sycl/src/run/double_indexed.o ../diamond-sycl/src/search/collision.o ../diamond-sycl/src/output/sam_format.o ../diamond-sycl/src/align/align.o ../diamond-sycl/src/search/setup.o ../diamond-sycl/src/extra/opt.o ../diamond-sycl/src/dp/diag_scores.o ../diamond-sycl/src/data/taxonomy.o ../diamond-sycl/src/lib/tantan/tantan.o ../diamond-sycl/src/lib/tantan/tantale.o ../diamond-sycl/src/dp/swipe.o ../diamond-sycl/src/dp/banded_sw.o ../diamond-sycl/src/data/sorted_list.o ../diamond-sycl/src/data/seed_set.o ../diamond-sycl/src/util/binary_file.o ../diamond-sycl/src/output/taxon_format.o ../diamond-sycl/src/output/view.o ../diamond-sycl/src/output/output_sink.o ../diamond-sycl/src/output/target_culling.o ./masking.o  -o diamond -lz -lpthread
nvidia-smi --query-gpu=memory.used,memory.total --format=csv --loop-ms=1 > log.mem &
bash -c "time -p ( ./diamond blastx -q ../data/gerbil/ERR164407.fastq.gz -d ../diamond-sycl/ARDB.dmnd -o long_cur.m8 --tmpdir /dev/shm -p1 1>log.std 2>log.err ) 2> log.time"
pkill nvidia-smi
../scripts/m.sh
min max diff memory in [MB] : 0 744 744
